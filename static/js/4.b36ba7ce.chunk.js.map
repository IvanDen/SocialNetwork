{"version":3,"sources":["components/Login/Login.module.css","components/Login/Login.jsx"],"names":["module","exports","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","captchaUrl","onSubmit","createField","Input","requiredField","type","className","Class","checkboxWrap","src","formSummaryError","connect","state","auth","isAuth","login","props","to","formLogin","formData","email","password","rememberMe","captcha"],"mappings":"mGACAA,EAAOC,QAAU,CAAC,UAAY,yBAAyB,YAAc,2BAA2B,MAAQ,qBAAqB,iBAAmB,gCAAgC,aAAe,8B,iCCD/L,8FAUMC,EAAcC,YAAiB,IA2B/BC,EAAiBC,YAAU,CAACC,KAAM,SAAjBD,EA1BL,SAAC,GAAuC,IAAtCE,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,WACrC,OACI,0BAAMC,SAAUH,GACXI,YAAY,QAAS,QAASC,IAAO,CAACC,IAAeX,GAAc,CAACY,KAAM,SAC1EH,YAAY,WAAY,WAAYC,IAAO,CAACC,IAAeX,GAAc,CAACY,KAAM,aACjF,yBAAKC,UAAWC,IAAMC,cACjBN,YAAY,cAAe,aAAcC,IAAO,GAAI,CAACE,KAAM,cAE/DL,GACD,6BACI,yBAAKS,IAAKT,IACTE,YAAY,UAAW,UAAWC,IAAO,CAACC,KAAgB,KAG9DL,GACD,yBAAKO,UAAWC,IAAMG,kBACjBX,GAGL,6BACI,8CA8BDY,uBANS,SAACC,GAAD,MAAY,CAChCZ,WAAYY,EAAMC,KAAKb,WACvBc,OAAQF,EAAMC,KAAKC,UAIiB,CAACC,WAA1BJ,EAtBD,SAACK,GAKX,OAAIA,EAAMF,OACC,kBAAC,IAAD,CAAUG,GAAI,aAIrB,yBAAKX,UAAWC,IAAMW,WAClB,qCACA,kBAACvB,EAAD,CAAgBM,SAXP,SAACkB,GACdH,EAAMD,MAAMI,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAAYH,EAASI,UAUrCvB,WAAYgB,EAAMhB","file":"static/js/4.b36ba7ce.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formLogin\":\"Login_formLogin__1U2Gi\",\"formControl\":\"Login_formControl__8zwqT\",\"error\":\"Login_error__1aiw6\",\"formSummaryError\":\"Login_formSummaryError__2CviV\",\"checkboxWrap\":\"Login_checkboxWrap__2Q56Y\"};","import React from 'react';\r\nimport Class from './Login.module.css';\r\nimport {connect} from \"react-redux\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators\";\r\nimport {login} from \"../../redux/auth-reduser\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Email\", \"email\", Input, [requiredField, maxLength30], {type: \"text\"})}\r\n            {createField(\"Password\", \"password\", Input, [requiredField, maxLength30], {type: \"password\"})}\r\n            <div className={Class.checkboxWrap}>\r\n                {createField(\"Remember me\", \"rememberMe\", Input, [], {type: \"checkbox\"})}\r\n            </div>\r\n            {captchaUrl &&\r\n            <div>\r\n                <img src={captchaUrl} />\r\n                {createField(\"Captcha\", \"captcha\", Input, [requiredField], {})}\r\n            </div>\r\n            }\r\n            {error &&\r\n            <div className={Class.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div className={Class.formLogin}>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, {login})(Login);"],"sourceRoot":""}