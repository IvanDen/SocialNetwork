(this.webpackJsonpSocialNetwork=this.webpackJsonpSocialNetwork||[]).push([[3],{311:function(e,a,t){e.exports={infoWrap:"Profileinfo_infoWrap__3fyIl",info:"Profileinfo_info__NFyVz",mainImg:"Profileinfo_mainImg__60J-N",userInfo:"Profileinfo_userInfo__29l0j",avatar:"Profileinfo_avatar__18N5m",typeMainInfo:"Profileinfo_typeMainInfo__wp925",avaWrap:"Profileinfo_avaWrap__3HoX-",ownInfo:"Profileinfo_ownInfo___EQff",imgWrap:"Profileinfo_imgWrap__3ztce",inputFileWrap:"Profileinfo_inputFileWrap__co6YH",inputFile:"Profileinfo_inputFile__2DGVn",socialLinks:"Profileinfo_socialLinks__1FlxO",formSummaryError:"Profileinfo_formSummaryError__1wEmo",infoItemBlock:"Profileinfo_infoItemBlock__1UWRB",valMainInfo:"Profileinfo_valMainInfo__14uQi",contactsItem:"Profileinfo_contactsItem__2cdaJ",imgTitle:"Profileinfo_imgTitle__hz4kU",imgSocial:"Profileinfo_imgSocial__jcIiX",facebook:"Profileinfo_facebook__1NUvf",website:"Profileinfo_website__3GI7u",vk:"Profileinfo_vk__10_ho",twitter:"Profileinfo_twitter__2fBks",instagram:"Profileinfo_instagram__3o7Xd",youtube:"Profileinfo_youtube__3ATVd",github:"Profileinfo_github__3uLWj",mainLink:"Profileinfo_mainLink__19poW"}},312:function(e,a,t){e.exports={profilePageWrap:"profile_profilePageWrap__1ly23",mainImg:"profile_mainImg__2Cz0J",userInfo:"profile_userInfo__2DDqZ",avatar:"profile_avatar__1DKIf",infoText:"profile_infoText__1QrMX"}},313:function(e,a,t){e.exports={postsFeed:"MyPosts_postsFeed__1Aom0",postForm:"MyPosts_postForm__1WUCc",posts:"MyPosts_posts__2W8_2",formWrap:"MyPosts_formWrap__2GVPl"}},314:function(e,a,t){e.exports={item:"Post_item__wy8gV",imgWrap:"Post_imgWrap__3mf-U",messagePanel:"Post_messagePanel__3S4hj"}},318:function(e,a,t){"use strict";t.r(a);var n=t(30),o=t(31),s=t(34),i=t(32),r=t(35),l=t(0),c=t.n(l),m=t(14),f=t(312),u=t.n(f),p=t(105),_=t(45),E=t(313),d=t.n(E),v=t(314),P=t.n(v),b=t(110),g=t.n(b),h=function(e){return c.a.createElement("div",{className:P.a.item},c.a.createElement("div",{className:P.a.imgWrap},c.a.createElement("img",{src:g.a,alt:"user-post"})),c.a.createElement("div",{className:P.a.messagePanel},c.a.createElement("span",null,e.message),c.a.createElement("div",null,c.a.createElement("span",null,"Like: ",e.likeCount),c.a.createElement("span",null,"Send"))))},I=t(140),N=t(62),k=t(104),y=Object(N.a)(30),O=Object(I.a)({form:"ProfileAddNewPostForm"})((function(e){return c.a.createElement("form",{className:d.a.postForm,onSubmit:e.handleSubmit},Object(k.c)("Post message","newPostText",k.b,[N.b,y]),c.a.createElement("button",null,"Add post"))})),S=c.a.memo((function(e){c.a.createRef();var a=Object(_.a)(e.posts).reverse().map((function(e){return c.a.createElement(h,{message:e.message,key:e.id,likeCount:e.likeCount})}));return c.a.createElement("div",{className:d.a.postsFeed},c.a.createElement(O,{onSubmit:function(a){e.addPost(a.newPostText)}}),c.a.createElement("div",{className:d.a.posts},a))})),j=Object(m.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:p.a})(S),w=t(106),M=t(311),W=t.n(M),F=t(43),A=Object(I.a)({form:"edit-profile"})((function(e){var a=e.handleSubmit,t=e.isOwner,n=e.profile,o=e.error;return c.a.createElement("form",{className:"".concat(W.a.info,"  ").concat(W.a.ownInfo),onSubmit:a},c.a.createElement("div",{className:"".concat(W.a.info,"  ").concat(W.a.ownInfo)},t&&c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){}},"Save")),o&&c.a.createElement("div",{className:W.a.formSummaryError},o),c.a.createElement("div",null,c.a.createElement("span",null,"Name: "),Object(k.c)("Full name","fullName",k.a,[],{type:"text"})),c.a.createElement("div",{className:"".concat(W.a.infoItemBlock)},c.a.createElement("span",null,"looking for a job:"),Object(k.c)("","lookingForAJob",k.a,[],{type:"checkbox"})),c.a.createElement("div",{className:"".concat(W.a.infoItemBlock)},c.a.createElement("span",null,"My professional skills:"),Object(k.c)("My skills","lookingForAJobDescription",k.b,[])),c.a.createElement("div",{className:"".concat(W.a.infoItemBlock)},c.a.createElement("span",null,"About me:"),Object(k.c)("About me:","aboutMe",k.b,[]))),c.a.createElement("div",{className:"".concat(W.a.info," ").concat(W.a.socialLinks)},c.a.createElement("h2",null,"Contacts"),c.a.createElement("div",{className:"".concat(W.a.infoItemBlock)},Object.keys(n.contacts).map((function(e){return c.a.createElement("div",{key:e,className:W.a.contactsItem},c.a.createElement("div",{className:W.a.imgTitle},c.a.createElement("span",{className:"".concat(W.a.imgSocial," ").concat(W.a[e])}),c.a.createElement("span",{className:W.a.typeMainInfo},e)),Object(k.c)(e,"contacts."+e,k.a,[],{type:"text"}))})))))})),T=function(e){var a=e.contactTitle,t=e.contactValue,n=e.classNameIcon;return c.a.createElement("div",{className:W.a.contactsItem},c.a.createElement("div",{className:W.a.imgTitle},c.a.createElement("span",{className:"".concat(W.a.imgSocial," ").concat(W.a[n])}),c.a.createElement("span",{className:W.a.typeMainInfo},a)),c.a.createElement("span",{className:W.a.valMainInfo},t))},x=function(e){var a=Object(l.useState)(!1),t=Object(w.a)(a,2),n=t[0],o=t[1],s=Object(l.useState)(e.status),i=Object(w.a)(s,2),r=i[0],m=i[1];Object(l.useEffect)((function(){m(e.status)}),[e.status]);return c.a.createElement(c.a.Fragment,null,!n&&c.a.createElement("div",{className:W.a.valMainInfo},e.isOwner?c.a.createElement("span",{onDoubleClick:function(){o(!0)}},e.status||"------"):c.a.createElement("span",null,e.status||"------")),n&&c.a.createElement("div",null,c.a.createElement("input",{type:"text",autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(r)},onChange:function(e){m(e.currentTarget.value)},value:r})))},B=function(e){var a=e.profile,t=e.status,n=e.updateStatus,o=e.isOwner,s=e.goToEditMode;return c.a.createElement("div",{className:"".concat(W.a.info,"  ").concat(W.a.ownInfo)},o&&c.a.createElement("div",null,c.a.createElement("button",{onClick:s},"Edit profile")),c.a.createElement("h1",null,"Name: ",a.fullName),c.a.createElement("div",{className:"".concat(W.a.infoItemBlock)},c.a.createElement("span",{className:W.a.typeMainInfo},"Status:"),c.a.createElement(x,{status:t,updateStatus:n,isOwner:o})),c.a.createElement("div",{className:"".concat(W.a.infoItemBlock)},c.a.createElement("span",{className:W.a.typeMainInfo},"looking for a job:"),c.a.createElement("span",{className:W.a.valMainInfo},a.lookingForAJob?"yes":"no")),a.lookingForAJob&&c.a.createElement("div",{className:"".concat(W.a.infoItemBlock)},c.a.createElement("span",{className:W.a.typeMainInfo},"My professional skills:"),c.a.createElement("span",{className:W.a.valMainInfo},a.lookingForAJobDescription)),c.a.createElement("div",{className:"".concat(W.a.infoItemBlock)},c.a.createElement("span",{className:W.a.typeMainInfo},"About me:"),c.a.createElement("span",{className:W.a.valMainInfo},a.aboutMe?a.aboutMe:"-----")),c.a.createElement("div",{className:"".concat(W.a.info," ").concat(W.a.socialLinks)},c.a.createElement("h2",null,"Contacts"),c.a.createElement("div",{className:"".concat(W.a.infoItemBlock)},Object.keys(a.contacts).map((function(e){return c.a.createElement(T,{key:e,classNameIcon:e,contactTitle:e,contactValue:a.contacts[e]})})))))},C=function(e){var a=e.profile,t=e.status,n=e.updateStatus,o=e.isOwner,s=e.savePhoto,i=e.saveProfile,r=Object(l.useState)(),m=Object(w.a)(r,2),f=m[0],u=m[1];if(!a)return c.a.createElement(F.a,null);return c.a.createElement("div",{className:W.a.userInfo},c.a.createElement("div",{className:"".concat(W.a.infoWrap)},c.a.createElement("div",{className:"".concat(W.a.info," ").concat(W.a.avaWrap)},o&&c.a.createElement("div",{className:W.a.inputFileWrap},c.a.createElement("input",{type:"file",id:"avatarImage",className:W.a.inputFile,onChange:function(e){e.target.files.length&&s(e.target.files[0])}}),c.a.createElement("label",{htmlFor:"avatarImage"},"Choose a photo")),c.a.createElement("div",{className:W.a.imgWrap},c.a.createElement("img",{className:W.a.avatar,src:a.photos.large||"./img/list-users.png",alt:"avatar"})))),f?c.a.createElement(A,{initialValues:a,profile:a,status:t,updateStatus:n,isOwner:o,onSubmit:function(e){i(e).then((function(){u(!1)}))}}):c.a.createElement(B,{profile:a,status:t,updateStatus:n,isOwner:o,goToEditMode:function(){u(!0)}}))},J=function(e){return c.a.createElement("div",{className:u.a.profilePageWrap},c.a.createElement(C,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),c.a.createElement(j,null))},U=t(27),D=t(33),L=t(5),V=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(r.a)(a,e),Object(o.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,a,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(J,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isAuth:this.props.isAuth,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),a}(c.a.Component);a.default=Object(L.d)(Object(m.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:p.d,getStatus:p.c,updateStatus:p.g,savePhoto:p.e,saveProfile:p.f}),U.g,D.a)(V)}}]);
//# sourceMappingURL=3.a66de886.chunk.js.map