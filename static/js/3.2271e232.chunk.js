(this.webpackJsonpSocialNetwork=this.webpackJsonpSocialNetwork||[]).push([[3],{306:function(e,a,t){e.exports={infoWrap:"Profileinfo_infoWrap__3fyIl",info:"Profileinfo_info__NFyVz",mainImg:"Profileinfo_mainImg__60J-N",userInfo:"Profileinfo_userInfo__29l0j",avatar:"Profileinfo_avatar__18N5m",typeMainInfo:"Profileinfo_typeMainInfo__wp925",avaWrap:"Profileinfo_avaWrap__3HoX-",ownInfo:"Profileinfo_ownInfo___EQff",imgWrap:"Profileinfo_imgWrap__3ztce",inputFileWrap:"Profileinfo_inputFileWrap__co6YH",inputFile:"Profileinfo_inputFile__2DGVn",socialLinks:"Profileinfo_socialLinks__1FlxO",formSummaryError:"Profileinfo_formSummaryError__1wEmo",infoItemBlock:"Profileinfo_infoItemBlock__1UWRB",valMainInfo:"Profileinfo_valMainInfo__14uQi",contactsItem:"Profileinfo_contactsItem__2cdaJ",imgTitle:"Profileinfo_imgTitle__hz4kU",imgSocial:"Profileinfo_imgSocial__jcIiX",facebook:"Profileinfo_facebook__1NUvf",website:"Profileinfo_website__3GI7u",vk:"Profileinfo_vk__10_ho",twitter:"Profileinfo_twitter__2fBks",instagram:"Profileinfo_instagram__3o7Xd",youtube:"Profileinfo_youtube__3ATVd",github:"Profileinfo_github__3uLWj",mainLink:"Profileinfo_mainLink__19poW"}},307:function(e,a,t){e.exports={profilePageWrap:"profile_profilePageWrap__1ly23",mainImg:"profile_mainImg__2Cz0J",userInfo:"profile_userInfo__2DDqZ",avatar:"profile_avatar__1DKIf",infoText:"profile_infoText__1QrMX"}},308:function(e,a,t){e.exports={postsFeed:"MyPosts_postsFeed__1Aom0",postForm:"MyPosts_postForm__1WUCc",posts:"MyPosts_posts__2W8_2",formWrap:"MyPosts_formWrap__2GVPl"}},309:function(e,a,t){e.exports={item:"Post_item__wy8gV",imgWrap:"Post_imgWrap__3mf-U",messagePanel:"Post_messagePanel__3S4hj"}},313:function(e,a,t){"use strict";t.r(a);var n=t(30),o=t(31),s=t(34),i=t(32),r=t(35),l=t(0),c=t.n(l),m=t(14),f=t(307),u=t.n(f),p=t(103),_=t(45),E=t(308),d=t.n(E),v=t(309),P=t.n(v),b=function(e){return c.a.createElement("div",{className:P.a.item},c.a.createElement("div",{className:P.a.imgWrap},c.a.createElement("img",{src:"./img/posts-user.png",alt:"user-post"})),c.a.createElement("div",{className:P.a.messagePanel},c.a.createElement("span",null,e.message),c.a.createElement("div",null,c.a.createElement("span",null,"Like: ",e.likeCount),c.a.createElement("span",null,"Send"))))},g=t(136),h=t(62),I=t(102),N=Object(h.a)(30),k=Object(g.a)({form:"ProfileAddNewPostForm"})((function(e){return c.a.createElement("form",{className:d.a.postForm,onSubmit:e.handleSubmit},Object(I.c)("Post message","newPostText",I.b,[h.b,N]),c.a.createElement("button",null,"Add post"))})),y=c.a.memo((function(e){c.a.createRef();var a=Object(_.a)(e.posts).reverse().map((function(e){return c.a.createElement(b,{message:e.message,key:e.id,likeCount:e.likeCount})}));return c.a.createElement("div",{className:d.a.postsFeed},c.a.createElement(k,{onSubmit:function(a){e.addPost(a.newPostText)}}),c.a.createElement("div",{className:d.a.posts},a))})),O=Object(m.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:p.a})(y),S=t(104),j=t(306),w=t.n(j),M=t(43),W=Object(g.a)({form:"edit-profile"})((function(e){var a=e.handleSubmit,t=e.isOwner,n=e.profile,o=e.error;return c.a.createElement("form",{className:"".concat(w.a.info,"  ").concat(w.a.ownInfo),onSubmit:a},c.a.createElement("div",{className:"".concat(w.a.info,"  ").concat(w.a.ownInfo)},t&&c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){}},"Save")),o&&c.a.createElement("div",{className:w.a.formSummaryError},o),c.a.createElement("div",null,c.a.createElement("span",null,"Name: "),Object(I.c)("Full name","fullName",I.a,[],{type:"text"})),c.a.createElement("div",{className:"".concat(w.a.infoItemBlock)},c.a.createElement("span",null,"looking for a job:"),Object(I.c)("","lookingForAJob",I.a,[],{type:"checkbox"})),c.a.createElement("div",{className:"".concat(w.a.infoItemBlock)},c.a.createElement("span",null,"My professional skills:"),Object(I.c)("My skills","lookingForAJobDescription",I.b,[])),c.a.createElement("div",{className:"".concat(w.a.infoItemBlock)},c.a.createElement("span",null,"About me:"),Object(I.c)("About me:","aboutMe",I.b,[]))),c.a.createElement("div",{className:"".concat(w.a.info," ").concat(w.a.socialLinks)},c.a.createElement("h2",null,"Contacts"),c.a.createElement("div",{className:"".concat(w.a.infoItemBlock)},Object.keys(n.contacts).map((function(e){return c.a.createElement("div",{key:e,className:w.a.contactsItem},c.a.createElement("div",{className:w.a.imgTitle},c.a.createElement("span",{className:"".concat(w.a.imgSocial," ").concat(w.a[e])}),c.a.createElement("span",{className:w.a.typeMainInfo},e)),Object(I.c)(e,"contacts."+e,I.a,[],{type:"text"}))})))))})),F=function(e){var a=e.contactTitle,t=e.contactValue,n=e.classNameIcon;return c.a.createElement("div",{className:w.a.contactsItem},c.a.createElement("div",{className:w.a.imgTitle},c.a.createElement("span",{className:"".concat(w.a.imgSocial," ").concat(w.a[n])}),c.a.createElement("span",{className:w.a.typeMainInfo},a)),c.a.createElement("span",{className:w.a.valMainInfo},t))},A=function(e){var a=Object(l.useState)(!1),t=Object(S.a)(a,2),n=t[0],o=t[1],s=Object(l.useState)(e.status),i=Object(S.a)(s,2),r=i[0],m=i[1];Object(l.useEffect)((function(){m(e.status)}),[e.status]);return c.a.createElement(c.a.Fragment,null,!n&&c.a.createElement("div",{className:w.a.valMainInfo},e.isOwner?c.a.createElement("span",{onDoubleClick:function(){o(!0)}},e.status||"------"):c.a.createElement("span",null,e.status||"------")),n&&c.a.createElement("div",null,c.a.createElement("input",{autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(r)},onChange:function(e){m(e.currentTarget.value)},value:r})))},T=function(e){var a=e.profile,t=e.status,n=e.updateStatus,o=e.isOwner,s=e.goToEditMode;return c.a.createElement("div",{className:"".concat(w.a.info,"  ").concat(w.a.ownInfo)},o&&c.a.createElement("div",null,c.a.createElement("button",{onClick:s},"Edit profile")),c.a.createElement("h1",null,"Name: ",a.fullName),c.a.createElement("div",{className:"".concat(w.a.infoItemBlock)},c.a.createElement("span",{className:w.a.typeMainInfo},"Status:"),c.a.createElement(A,{status:t,updateStatus:n,isOwner:o})),c.a.createElement("div",{className:"".concat(w.a.infoItemBlock)},c.a.createElement("span",{className:w.a.typeMainInfo},"looking for a job:"),c.a.createElement("span",{className:w.a.valMainInfo},a.lookingForAJob?"yes":"no")),a.lookingForAJob&&c.a.createElement("div",{className:"".concat(w.a.infoItemBlock)},c.a.createElement("span",{className:w.a.typeMainInfo},"My professional skills:"),c.a.createElement("span",{className:w.a.valMainInfo},a.lookingForAJobDescription)),c.a.createElement("div",{className:"".concat(w.a.infoItemBlock)},c.a.createElement("span",{className:w.a.typeMainInfo},"About me:"),c.a.createElement("span",{className:w.a.valMainInfo},a.aboutMe?a.aboutMe:"-----")),c.a.createElement("div",{className:"".concat(w.a.info," ").concat(w.a.socialLinks)},c.a.createElement("h2",null,"Contacts"),c.a.createElement("div",{className:"".concat(w.a.infoItemBlock)},Object.keys(a.contacts).map((function(e){return c.a.createElement(F,{key:e,classNameIcon:e,contactTitle:e,contactValue:a.contacts[e]})})))))},x=function(e){var a=e.profile,t=e.status,n=e.updateStatus,o=e.isOwner,s=e.savePhoto,i=e.saveProfile,r=Object(l.useState)(),m=Object(S.a)(r,2),f=m[0],u=m[1];if(!a)return c.a.createElement(M.a,null);return c.a.createElement("div",{className:w.a.userInfo},c.a.createElement("div",{className:"".concat(w.a.infoWrap)},c.a.createElement("div",{className:"".concat(w.a.info," ").concat(w.a.avaWrap)},o&&c.a.createElement("div",{className:w.a.inputFileWrap},c.a.createElement("input",{type:"file",id:"avatarImage",className:w.a.inputFile,onChange:function(e){e.target.files.length&&s(e.target.files[0])}}),c.a.createElement("label",{htmlFor:"avatarImage"},"Choose a photo")),c.a.createElement("div",{className:w.a.imgWrap},c.a.createElement("img",{className:w.a.avatar,src:a.photos.large||"./img/list-users.png",alt:"avatar"})))),f?c.a.createElement(W,{initialValues:a,profile:a,status:t,updateStatus:n,isOwner:o,onSubmit:function(e){i(e).then((function(){u(!1)}))}}):c.a.createElement(T,{profile:a,status:t,updateStatus:n,isOwner:o,goToEditMode:function(){u(!0)}}))},B=function(e){return c.a.createElement("div",{className:u.a.profilePageWrap},c.a.createElement(x,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),c.a.createElement(O,null))},C=t(27),J=t(33),U=t(5),D=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(r.a)(a,e),Object(o.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,a,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(B,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isAuth:this.props.isAuth,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),a}(c.a.Component);a.default=Object(U.d)(Object(m.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:p.d,getStatus:p.c,updateStatus:p.g,savePhoto:p.e,saveProfile:p.f}),C.f,J.a)(D)}}]);
//# sourceMappingURL=3.2271e232.chunk.js.map